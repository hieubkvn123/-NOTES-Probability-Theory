\subsection{Measurable functions}
\begin{definition}[Function (Mapping)]
    A \textbf{mapping} or a \textbf{function} $f:E\to F$ from $E$ to $F$ is a rule that assigns every element $f(x) \in F$ to an element $x\in E$. Given a subset $B\subset F$, the pre-image of $B$ under a function $f:E\to F$ is given by:
    \begin{align*}
        f^{-1}(B) = \Big\{ x \in E : f(x) \in B \Big\}
    \end{align*}
\end{definition}

\begin{proposition}{Properties of functions}{props_of_functions}
    Let $f:E\to F$ be a function, the following properties hold:
    \begin{itemize}
        \item $f^{-1}(\emptyset)=\emptyset$.
        \item $f^{-1}(F)=E$.
        \item $f^{-1}(B\setminus C) = f^{-1}(B)\setminus f^{-1}(C)$.
        \item $f^{-1}\Bigg( \bigcup_{n=1}^\infty B_n \Bigg) = \bigcup_{n=1}^\infty f^{-1}(B_n)$.
        \item $f^{-1}\Bigg( \bigcap_{n=1}^\infty B_n \Bigg) = \bigcap_{n=1}^\infty f^{-1}(B_n)$.
    \end{itemize}
\end{proposition}

\begin{definition}[Measurable function]
    Let $(E, \mathcal{E})$ and $(F, \mathcal{F})$ be measurable spaces, $f:E\to F$ be a function. Then, $f$ is called \textbf{measurable relative to $\mathcal{E}$ and $\mathcal{F}$} (or $(\mathcal{E}, \mathcal{F})$-measurable) if:
    \begin{align*}
        \forall B \in \mathcal{F} : f^{-1}(B) \in \mathcal{E}
    \end{align*}
\end{definition}

\begin{proposition}{$\sigma$-algebra of pre-images}{sigma_algebra_of_preimages}
    Let $\ms{E}$ and $\ms{F}$ be two measurable spaces and $f:E\to F$ be a function (\textbf{not necessarily $(\mathcal{E}, \mathcal{F})$-measurable}). Then, the following collection:
    \begin{align*}
        \mathcal{G} = \Big\{ 
            A \subseteq F : f^{-1}(A) \in \mathcal{E}
        \Big\}
    \end{align*}
    \noindent is a $\sigma$-algebra.
\end{proposition}

\begin{proof*}[Proposition \ref{prop:sigma_algebra_of_preimages}]
    We have to prove that $\mathcal{G}$ is closed under complement and countable union:
    \begin{itemize}
        \item \textbf{Closure under complement} : Let $A\in\mathcal{G}\implies f^{-1}(A)\in\mathcal{E}$, we have:
        \begin{align*}
            f^{-1}(A^c) &= f^{-1}(F\setminus A) = f^{-1}(F) \setminus f^{-1}(A) \\
                &= E \setminus f^{-1}(A) = \Big[ f^{-1}(A) \Big]^c \in \mathcal{E} \\
            \implies A^c &\in \mathcal{G}
        \end{align*}

        \item \textbf{Closure under countable union} : Let $\{A_n\}_{n=1}^\infty$ be a countable collection in $\mathcal{G}$. Hence, $f^{-1}(A_n)\in\mathcal{E}, \ \forall n \ge 1$. We have:
        \begin{align*}
            f^{-1}\Bigg( \bigcup_{n=1}^\infty A_n \Bigg) &= \bigcup_{n-1}^\infty f^{-1}(A_n) \in \mathcal{E} \\
            \implies \bigcup_{n=1}^\infty A_n &\in \mathcal{G}
        \end{align*}
    \end{itemize}

    \noindent\newline From the above, we conclude that $\mathcal{G}$ is a $\sigma$-algebra. 
\end{proof*}

\begin{proposition}{Measurability criterion of functions}{measurability_of_functions}
    Let $(E, \mathcal{E})$ and $(G, \mathcal{G})$ be two measurable spaces and $\mathcal{G} = \sigma(\mathcal{\tilde G})$ for some collection $\mathcal{\tilde G}$ of subsets of $G$. We have:
    \begin{align*}
        \forall A \in \mathcal{\tilde G} : f^{-1}(A) \in \mathcal{E} \implies \forall A \in \sigma(\mathcal{\tilde G}) : f^{-1}(A) \in \mathcal{E}
    \end{align*}

    \noindent In other words, to show that $f$ is measurable, we only have to show that $f^{-1}(A)\in\mathcal{E}$ for $A$ belonging to a small collection that generates $\mathcal{G}$.
\end{proposition}


\begin{proof*}[Proposition \ref{prop:measurability_of_functions}]
    Define the following collection :
    \begin{align*}
        \mathcal{G}^* = \Big\{
            A \subseteq G : f^{-1}(A) \in \mathcal{E}
        \Big\}
    \end{align*}

    \noindent We know that $\mathcal{\tilde G} \subseteq \mathcal{G}^*$. By proposition \ref{prop:sigma_algebra_of_preimages}, we know that $\mathcal{G}^*$ is a $\sigma$-algebra. Therefore, we have $\sigma(\mathcal{\tilde G}) \subseteq \mathcal{G}^*$ because $\sigma(\mathcal{\tilde G})$ is the smallest $\sigma$-algebra generated by $\mathcal{\tilde G}$.

    \noindent\newline The result follows and we have:
    \begin{align*}
        \forall A \in \sigma(\mathcal{\tilde G}) : f^{-1}(A) \in \mathcal{E}
    \end{align*}

    \noindent Therefore, $f$ is $(\mathcal{E}, \mathcal{F})$-measurable.
\end{proof*}

